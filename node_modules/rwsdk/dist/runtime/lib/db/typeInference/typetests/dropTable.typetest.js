(_it = "dropTable") => {
    const migrations = {
        "0": {
            async up(db) {
                return [
                    await db.schema
                        .createTable("users")
                        .addColumn("username", "text", (col) => col.notNull().unique())
                        .execute(),
                    await db.schema
                        .createTable("posts")
                        .addColumn("title", "text")
                        .execute(),
                ];
            },
        },
        "1": {
            async up(db) {
                return [await db.schema.dropTable("posts").execute()];
            },
        },
    };
    (_test) => { };
};
(_it = "dropTable non-existent table") => {
    const migrations = {
        "0": {
            async up(db) {
                return [await db.schema.dropTable("ghost").execute()];
            },
        },
    };
    (_test) => { };
};
(_it = "dropTable all tables") => {
    const migrations = {
        "0": {
            async up(db) {
                return [
                    await db.schema.createTable("a").addColumn("x", "text").execute(),
                    await db.schema.createTable("b").addColumn("y", "text").execute(),
                ];
            },
        },
        "1": {
            async up(db) {
                return [
                    await db.schema.dropTable("a").execute(),
                    await db.schema.dropTable("b").execute(),
                ];
            },
        },
    };
    (_test) => { };
};
(_it = "chaining createTable and dropTable") => {
    const migrations = {
        "0": {
            async up(db) {
                return [
                    await db.schema
                        .createTable("users")
                        .addColumn("username", "text")
                        .execute(),
                    await db.schema
                        .createTable("posts")
                        .addColumn("title", "text")
                        .execute(),
                ];
            },
        },
        "1": {
            async up(db) {
                return [
                    await db.schema.dropTable("posts").execute(),
                    await db.schema
                        .createTable("comments")
                        .addColumn("text", "text")
                        .execute(),
                ];
            },
        },
    };
    (_test) => { };
};
(_it = "drop table then add it back") => {
    const migrations = {
        "0": {
            async up(db) {
                return [
                    await db.schema
                        .createTable("users")
                        .addColumn("username", "text")
                        .execute(),
                ];
            },
        },
        "1": {
            async up(db) {
                return [await db.schema.dropTable("users").execute()];
            },
        },
        "2": {
            async up(db) {
                return [
                    await db.schema
                        .createTable("users")
                        .addColumn("username", "text")
                        .execute(),
                ];
            },
        },
    };
    (_test) => { };
};
(_it = "rename table then drop it") => {
    const migrations = {
        "0": {
            async up(db) {
                return [
                    await db.schema
                        .createTable("users")
                        .addColumn("username", "text")
                        .execute(),
                ];
            },
        },
        "1": {
            async up(db) {
                return [
                    await db.schema.alterTable("users").renameTo("customers").execute(),
                ];
            },
        },
        "2": {
            async up(db) {
                return [await db.schema.dropTable("customers").execute()];
            },
        },
    };
    (_test) => { };
};
export {};
